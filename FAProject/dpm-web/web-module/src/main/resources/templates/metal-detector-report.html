<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" th:replace="
        ~{layouts/main-layout :: main-fragment(
                                              ~{:: title},
                                              ~{:: #css-page},
                                              ~{:: #custom-css-page},
                                              ~{:: #navbar},
                                              ~{:: #main-content},  
                                              ~{:: #footer},
                                              ~{:: #custom-js}
                                             )}">

<head>
    <title>Report biểu mẫu máy dò kim loại</title>
    <!-- partial:layouts/otherStaticResources.html -->
    <th:block id="css-page" th:replace="~{layouts/mainCss}"></th:block>
    <!-- Custom CSS for this page in here -->
    <th:block id="custom-css-page">
        <link rel="stylesheet" th:href="@{/vendors/iconfonts/font-awesome/css/font-awesome.min.css}">
    </th:block>
    <!-- End Custom CSS  -->
</head>

<body>
    <div class="container-scroller">

        <!-- partial:layouts/navbar.html -->
        <th:block id="navbar" th:replace="layouts/navbar">
        </th:block>

        <th:block id="main-content">
            <!-- Copy From start to here-->

            <!-- Modal starts -->
            <div class="modal fade" id="configModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel" th:text="#{sieveDrying.text.viewConfig}"></h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">X</span>
                            </button>
                        </div>
                        <div>
                            <div class="modal-body p-3 ml-5">
                                <div class="form-group row mb-0">
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(0)" checked> #
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(1)" checked th:utext="#{metalDetector.table.header.1}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(2)" checked th:utext="#{metalDetector.table.header.2}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(3)" checked> Loại sản phẩm
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(4)" checked th:utext="#{metalDetector.table.header.3}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(5)" checked th:utext="#{metalDetector.table.header.4}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(6)" checked th:utext="#{metalDetector.table.header.5}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(7)" checked th:utext="#{metalDetector.table.header.6}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(8)" checked th:utext="#{metalDetector.table.header.7}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" onclick="showHideColumnTable(9)" checked th:utext="#{metalDetector.table.header.8}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button id="toggle-state-ShowAll" type="button" class="btn btn-primary">Chọn tất cả</button>

                                <button id="toggle-state-hidden" type="button" class="btn btn-primary">Bỏ chọn tất cả</button>

                                <button type="button" class="btn btn-primary" data-dismiss="modal"> Thoát </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Ends -->

            <!-- Content of page -->
            <div class="container-fluid page-body-wrapper">
                <div class="main-panel">
                    <div class="content-wrapper">
                        <div class="row grid-margin">
                            <div class="col-12">

                                <div class="card">
                                    <div class="card-header bg-white pt-4">
                                        <p class="h3 text-center offset-md-1">BÁO CÁO MÁY DÒ KIM LOẠI</p>
                                    </div>
                                    <div class="card-body">
                                        <div class="info">
                                            <!-- <div class="info mt-4"> -->
                                            <div class="row justify-content-between">
                                                <div class="col-md-12">
                                                    <!-- Start of FIELDSET 3-->
                                                    <fieldset class="border p-2">
                                                        <legend id="filterLegend" class="w-auto h6 text-muted p-2"> Lọc thông tin phiếu kiểm tra máy dò kim loại</legend>

                                                        <form class="cmxform" id="filterForm" name="filterForm" th:action="@{exportExcel}" method="POST">
                                                            <div class="modal-body pb-0">

                                                                <!-- Row 1 -->
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-group row">
                                                                            <label for="departmentCode" class="col-sm-3 col-form-label"> Bộ phận </label>
                                                                            <div class="col-sm-9">
                                                                                <select class="js-example-basic-single w-100" id="departmentCode" name="departmentCode">
                                                                                    <option value="all">Tất cả</option>
                                                                                    <option th:each="itemDepartment : ${departments}" th:value="${itemDepartment.departmentCode}" th:text="${itemDepartment.departmentName}"></option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-sm-3"></div>
                                                                            <div id="departmentCodeError" class="col-sm-9" hidden="true">
                                                                                <p class="error mt-2 text-danger "> Kiểm tra thông tin bộ phận</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <div class="form-group row">
                                                                            <label for="typeProductCode" class="col-sm-3 col-form-label"> Loại sản phẩm</label>
                                                                            <div class="col-sm-9">
                                                                                <select class="js-example-basic-single w-100" id="typeProductCode" name="typeProductCode">
                                                                                    <option value="all">Tất cả</option>
                                                                                    <option th:each="itemTypeproduct : ${typeProducts}" th:value="${itemTypeproduct.typeProductCode}" th:text="${itemTypeproduct.typeProductName}"></option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-sm-3"></div>
                                                                            <div id="typeProductCodeError" class="col-sm-9" hidden="true">
                                                                                <p class="error mt-2 text-danger "> Kiểm tra thông tin loại sản phẩm</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <!-- Row 2 -->
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-group row">
                                                                            <label for="lotNo" class="col-sm-3 col-form-label"> Mã lô </label>
                                                                            <div class="col-sm-9">
                                                                                <select class="js-example-basic-single w-100" id="lotNo" name="lotNo">
                                                                                    <option value="all">Tất cả</option>
                                                                                    <option th:each="itemProductLot : ${productLots}" th:value="${itemProductLot.lotCode}" th:text="${itemProductLot.lotCode}"></option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-sm-3"></div>
                                                                            <div id="lotNoError" class="col-sm-9" hidden="true">
                                                                                <p class="error mt-2 text-danger "> Kiểm tra thông tin mã lô</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <div class="form-group row">
                                                                            <label for="checkingSample" class="col-sm-3 col-form-label"> Mẫu kiểm tra </label>
                                                                            <div class="col-sm-9">
                                                                                <select name="checkingSample" id="checkingSample" class="form-control">
                                                                                    <option value="all">Tất cả</option>
                                                                                    <option value="1">Đạt</option>
                                                                                    <option value="0">Không đạt</option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-sm-3"></div>
                                                                            <div id="checkingSampleError" class="col-sm-9" hidden="true">
                                                                                <p class="error mt-2 text-danger "> Kiểm tra thông tin mẫu kiểm tra</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <!-- Row 3 -->
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-group row">
                                                                            <label for="status" class="col-sm-3 col-form-label"> Trạng thái </label>
                                                                            <div class="col-sm-9">
                                                                                <select name="status" id="status" class="form-control">
                                                                                    <option value="all">Tất cả</option>
                                                                                    <option value="Approved">Đã duyệt</option>
                                                                                    <option value="Pending">Chờ duyệt</option>
                                                                                    <option value="Rejected">Hủy</option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-sm-3"></div>
                                                                            <div id="statusError" class="col-sm-9" hidden="true">
                                                                                <p class="error mt-2 text-danger "> Kiểm tra thông tin trạng thái</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <div class="form-group row">
                                                                            <label for="userName" class="col-sm-3 col-form-label"> Người kiểm tra </label>
                                                                            <div class="col-sm-9">
                                                                                <select class="js-example-basic-single w-100" id="userName" name="userName">
                                                                                    <option value="all">Tất cả</option>
                                                                                    <option th:each="itemEmployee : ${employees}" th:value="${itemEmployee.username}" th:text="${itemEmployee.employeeName}"></option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-sm-3"></div>
                                                                            <div id="userNameError" class="col-sm-9" hidden="true">
                                                                                <p class="error mt-2 text-danger "> Kiểm tra thông tin người kiểm tra</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <!-- Row 4 -->
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-group row">
                                                                            <label for="startDate" class="col-sm-3 col-form-label"> Từ ngày </label>
                                                                            <div id="datepicker-popup" class="input-group date datepicker col-sm-9">
                                                                                <input type="text" id="startDate" name="startDate" class="form-control" placeholder="VD: 31/12/2020" autocomplete="off">
                                                                                <span class="input-group-addon input-group-append border-left">
                                                                                    <span class="icon-calendar input-group-text"></span>
                                                                                </span>
                                                                            </div>
                                                                            <div class="col-sm-3"></div>
                                                                            <div id="startDateError" class="col-sm-9" hidden="true">
                                                                                <p class="error mt-2 text-danger "> Kiểm tra thông tin ngày nhập</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <div class="form-group row">
                                                                            <label for="endDate" class="col-sm-3 col-form-label"> Đến ngày </label>
                                                                            <div id="datepicker-popup2" class="input-group date datepicker col-sm-9">
                                                                                <input type="text" id="endDate" name="endDate" class="form-control" placeholder="VD: 31/12/2020" autocomplete="off">
                                                                                <span class="input-group-addon input-group-append border-left">
                                                                                    <span class="icon-calendar input-group-text"></span>
                                                                                </span>
                                                                            </div>
                                                                            <div class="col-sm-3"></div>
                                                                            <div id="endDateError" class="col-sm-9" hidden="true">
                                                                                <p class="error mt-2 text-danger "> Kiểm tra thông tin ngày nhập</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </form>

                                                        <div class="modal-footer border-white pt-0">
                                                            <div class="row justify-content-end">
                                                                <div class="p-1">
                                                                    <button class="btn btn-sm btn-info" id="filterButton">Lọc danh sách</button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </fieldset>
                                                    <!-- End of FIELDSET 3-->
                                                </div>
                                            </div>
                                        </div>
                                        <div id="scrollToHere"></div>
                                    </div>
                                </div>

                                <div class="card mt-5">
                                    <div class="card-body">
                                        <!-- group button -->
                                        <div class="template-demo">
                                            <div class="row justify-content-end">
                                                <div class="p-2">
                                                    <select id="element_size" name="element_size" class="btn btn-outline-info ">
                                                        <option class="dropdown-item" th:value="#{metalDetector.select.10Item.value}" th:text="#{metalDetector.select.10Item.text}" th:attr="selected=${(size >= 10) ? true : false}"></option>
                                                        <option class="dropdown-item" th:value="#{metalDetector.select.20Item.value}" th:text="#{metalDetector.select.20Item.text}" th:attr="selected=${(size >= 20) ? true : false}"></option>
                                                        <option class="dropdown-item" th:value="#{metalDetector.select.50Item.value}" th:text="#{metalDetector.select.50Item.text}" th:attr="selected=${(size >= 50) ? true : false}"></option>
                                                        <option class="dropdown-item" th:value="#{metalDetector.select.100Item.value}" th:text="#{metalDetector.select.100Item.text}" th:attr="selected=${(size >= 100) ? true : false}"></option>
                                                    </select>
                                                </div>
                                                <div class="p-2">
                                                    <button class="btn btn-sm btn-primary " data-toggle="modal" data-target="#configModal" th:text="#{sieveDrying.text.viewConfig}"></button>
                                                    </button>
                                                </div>
                                                <div class="p-2">
                                                    <button class="btn btn-sm btn-primary" th:text="#{sieveDrying.text.export}" id="exportButton">
                                                    </button>
                                                </div>
                                                <div class="p-2">
                                                    <button class="btn btn-sm btn-primary" id="approve-button" hidden> Duyệt </button>
                                                </div>
                                                <div class="p-2">
                                                    <button class="btn btn-sm btn-primary " id="reject-button" hidden> Hủy </button>
                                                </div>
                                            </div>

                                        </div>

                                        <!-- view list-->
                                        <div class="table-responsive">
                                            <table id="metalDetectorTable" class="table table-hover table-bordered text-center">
                                                <thead>
                                                    <tr>
                                                        <th rowspan="2" colspan="1" class="text-break ">#</th>
                                                        <th rowspan="2" colspan="1" class="text-break " th:text="#{metalDetector.table.header.1}"></th>
                                                        <th rowspan="2" class="text-break " th:text="#{metalDetector.table.header.2}"></th>
                                                        <th rowspan="2" class="text-break ">Loại sản phẩm</th>
                                                        <th rowspan="2" class="text-break " th:text="#{metalDetector.table.header.3}"></th>
                                                        <th colspan="3" th:text="#{metalDetector.table.header.4}"></th>
                                                        <th rowspan="2" th:text="#{metalDetector.table.header.5}"></th>
                                                        <th rowspan="2" th:text="#{metalDetector.table.header.6}"></th>
                                                        <th rowspan="2" th:text="#{metalDetector.table.header.7}"></th>
                                                        <th rowspan="2"> <input type="checkbox" id="select-all-checkBox"> </th>
                                                        <th rowspan="2" th:text="#{metalDetector.table.header.8}"></th>
                                                    </tr>
                                                    <tr>
                                                        <th>
                                                            <p>Fe</p>
                                                            <p>(3.0mm)</p>
                                                        </th>
                                                        <th>
                                                            <p>Non-Fe</p>
                                                            <p>(3.5mm)</p>
                                                        </th>
                                                        <th>
                                                            <p>Sus</p>
                                                            <p>(3.5mm)</p>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody id="body-table-metal-detector">

                                                    <!-- code generate by js -->

                                                </tbody>
                                            </table>
                                        </div>
                                        <!-- End view list-->
                                        <!-- pagination -->
                                        <nav class="pt-sm-2">
                                            <ul class="pagination d-flex justify-content-end" id="body-nav-paging">

                                                <!-- code generate by js -->

                                            </ul>
                                        </nav>
                                        <!-- End pagination -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- content-wrapper ends -->

                </div>
                <!-- main-panel ends -->
            </div>
            <!-- Main form end -->

        </th:block>
    </div>

    <!-- partial:layouts/footer.html -->
    <th:block id="footer" th:replace="layouts/footer">
    </th:block>

    <!-- Custom JavaScript for this page in here -->

    <th:block id="custom-js">
        <!-- define variable message I18n for all function javascript -->
        <script>
            var message_listEmpty = '[[#{ metalDetector.table.listEmpty }]]';
        </script>

        <script th:src="@{/js/form-metal-detector-report-page.js}"></script>
        <script th:src="@{/js/formpickers.js}"></script>

    </th:block>
    <!-- End Custom JavaScript  -->

</body>

</html>
