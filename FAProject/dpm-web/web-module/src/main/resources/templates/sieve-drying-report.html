<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" th:replace="
    ~{layouts/main-layout :: main-fragment(
                                          ~{:: title},
                                          ~{:: #css-page},
                                          ~{:: #custom-css-page},
                                          ~{:: #navbar},
                                          ~{:: #main-content},  
                                          ~{:: #footer},
                                          ~{:: #custom-js}
                                         )}">

<head>

    <title th:text="#{sieveDrying.text.reportTitle}"></title>

    <!-- partial:layouts/otherStaticResources.html -->
    <th:block id="css-page" th:replace="~{layouts/mainCss}"></th:block>



    <!-- Custom CSS for this page in here -->
    <th:block id="custom-css-page">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
        <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">


    </th:block>
    <!-- End Custom CSS  -->

</head>

<body>
    <div class="container-scroller">

        <!-- partial:layouts/navbar.html -->
        <th:block id="navbar" th:replace="layouts/navbar">
        </th:block>

        <th:block id="main-content">
            <!-- Copy From start to here-->

            <!-- Modal starts -->
            <!-- MODAL SECTION Begin -->
            <!-- record-approve-modal BEGIN: modal for approve record confirmation -->
            <div class="modal" tabindex="-1" role="dialog" id="modal-approve">
                <div class="modal-dialog" role="document">
                    <div class="modal-content bg-white">
                        <div class="modal-body">
                            <p class="h4" th:text="#{sieveDrying.text.approveConfirm}"></p>
                        </div>
                        <div class="modal-footer">
                            <div class="row justify-content-center">
                                <button class="btn btn-danger" th:text="#{sieveDrying.btn.yes}" onclick="filterFormSubmit()"></button>
                                <button class="btn btn-light" data-dismiss="modal" th:text="#{sieveDrying.btn.no}"></button>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
            <!-- record-approve-modal END: modal for approve record confirmation -->
            <!-- record-approve-selected-modal BEGIN: modal for approve selected records confirmation -->
            <div class="modal" tabindex="-1" role="dialog" id="modal-approve-selected">
                <div class="modal-dialog" role="document">
                    <div class="modal-content bg-white">
                        <div class="modal-body">
                            <p class="h4" th:text="#{sieveDrying.text.approveConfirm}"></p>
                        </div>
                        <div class="modal-footer">
                            <div class="row justify-content-center">
                                <button class="btn btn-danger" th:text="#{sieveDrying.btn.yes}" onclick="filterFormSubmit()"></button>
                                <button class="btn btn-light" data-dismiss="modal" th:text="#{sieveDrying.btn.no}"></button>
                            </div>

                        </div>
                    </div>
                    </form>
                </div>
            </div>
            <!-- record-approve-selected-modal END: modal for approve record confirmation -->
            <!-- record-reject-modal BEGIN: modal for reject record confirmation -->
            <div class="modal" tabindex="-1" role="dialog" id="modal-reject">
                <div class="modal-dialog" role="document">
                    <div class="modal-content bg-white">
                        <div class="modal-body">
                            <p class="h4" th:text="#{sieveDrying.text.rejectConfirm}"></p>
                        </div>
                        <div class="modal-footer">
                            <div class="row justify-content-center">
                                <button class="btn btn-danger" th:text="#{sieveDrying.btn.yes}" onclick="filterFormSubmit()"></button>
                                <button class="btn btn-light" data-dismiss="modal" th:text="#{sieveDrying.btn.no}"></button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <!-- record-reject-modal END: modal for reject record confirmation -->
            <!-- record-reject-selected-modal BEGIN: modal for reject record confirmation -->
            <div class="modal" tabindex="-1" role="dialog" id="modal-reject-selected">
                <div class="modal-dialog" role="document">
                    <div class="modal-content bg-white">
                        <div class="modal-body">
                            <p class="h4" th:text="#{sieveDrying.text.rejectConfirm}"></p>
                        </div>
                        <div class="modal-footer">
                            <div class="row justify-content-center">
                                <button type="submit" class="btn btn-danger" th:text="#{sieveDrying.btn.yes}" onclick="filterFormSubmit()"></button>
                                <button type="button" class="btn btn-light" data-dismiss="modal" th:text="#{sieveDrying.btn.no}"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- record-reject-selected-modal END: modal for reject record confirmation -->
            <!-- MODAL SECTION Ends -->

            <div class="modal fade" id="configModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-md" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel" th:text="#{sieveDrying.text.viewConfig}"></h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">X</span>
                            </button>
                        </div>
                        <form class="cmxform" id="signupForm" action="" method="POST">
                            <div class="modal-body">
                                <!-- ROW 1 -->
                                <div class="form-group row">
                                    <!-- ROW 1 - COL 1 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input name="chk-date" type="checkbox" class="form-check-input"
                                                        onclick="showhidetable(1)" checked th:utext="#{sieveDrying.label.inputDate}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 1 - COL 2 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(2)" checked  th:text="#{sieveDrying.label.inputTime}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 1 - COL 3 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(3)" checked th:text="#{sieveDrying.label.ingrCode}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <!-- ROW 2 -->
                                <div class="form-group row">
                                    <!-- ROW 2 - COL 1 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(4)" checked th:text="#{sieveDrying.label.ingrCode}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 2 - COL 2 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input"
                                                        onclick="showhidetable(5)" checked th:text="#{sieveDrying.label.inputTemp}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 2 - COL 3 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(6)" checked th:text="#{sieveDrying.label.pressure}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <!-- ROW 3 -->
                                <div class="form-group row">
                                    <!-- ROW 3 - COL 1 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(7)" checked th:text="#{sieveDrying.label.outputTemp}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 3 - COL 2 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(8)" checked>pH
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 3 - COL 3 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(9)" checked th:text="#{sieveDrying.label.impurities}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- ROW 4 -->
                                <div class="form-group row">
                                    <!-- ROW 4 - COL 1 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(10)" checked th:text="#{sieveDrying.label.size}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 4 - COL 2 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(11)" checked th:text="#{sieveDrying.label.color}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 4 - COL 3 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(12)" checked th:text="#{sieveDrying.label.odor}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ROW 5 -->
                                <div class="form-group row">
                                    <!-- ROW 5 - COL 1 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(13)" checked th:text="#{sieveDrying.label.taste}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 5 - COL 2 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(14)" checked th:text="#{sieveDrying.label.netStat}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 5 - COL 3 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(15)" checked th:text="#{sieveDrying.label.lotCode}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ROW 6 -->
                                <div class="form-group row">
                                    <!-- ROW 6 - COL 1 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(16)" checked th:text="#{sieveDrying.text.correctiveAction}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 6 - COL 2 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(17)" checked th:text="#{sieveDrying.label.status}">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ROW 6 - COL 2 -->
                                    <div class="col-md-4 col-sm-6">
                                        <div class="row">
                                            <div class="form-check">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""
                                                        onclick="showhidetable(0)" checked>ID
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="modal-footer">
                                <input id="toggle-state" type="checkbox" data-toggle="toggle" data-on="Hiện hết" data-off="Ẩn hết" data-width="100" onchange="toggle()" checked>
                                <button type="button" class="btn btn-primary" data-dismiss="modal" th:text="#{sieveDrying.btn.save}"></button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Modal Ends -->

            <!-- Main form start -->
            <div class="container-fluid page-body-wrapper">
                <div class="main-panel">
                    <div class="content-wrapper">
                        <div class="row">
                            <div class="col-12 grid-margin">
                                <div class="card">
                                    <div class="card-header bg-white pt-4">
                                        <th:block th:each="authority : ${#httpServletRequest.getUserPrincipal().getAuthorities()}" scope="col" class="text-center">
                                            <p class="h3 text-center offset-md-1" th:if="${authority.getAuthority().equals('ADMIN')}">
                                                [[#{sieveDrying.text.REVIEW_DATA}]]
                                            </p>
                                            <p class="h3 text-center offset-md-1" th:if="${authority.getAuthority().equals('EMPLOYEE')}">
                                                [[#{sieveDrying.text.VIEW_REPORT}]]
                                            </p>
                                        </th:block>
                                    </div>
                                    <div class="card-body">
                                        <div class="info mt-4">
                                            <div class="row justify-content-between">
                                                <div class="col-md-12">
                                                    <!-- Start of FIELDSET 3-->
                                                    <fieldset class="border p-2">
                                                        <legend class="w-auto h6 text-muted p-2" th:text="#{sieveDrying.text.ProdInfo}">
                                                        </legend>
                                                        <form th:action="@{/sieve-drying/get-report}" method="post" id="filterForm">
                                                            <input type="hidden" class="updateId-pageId" name="pageId">
                                                            <input type="hidden" class="updateId-pageSize" name="pageSize">

                                                            <!-- ROW 1 -->
                                                            <div class="form-group  row">
                                                                <!-- ROW 1 - COL 1 -->
                                                                <div class="col-md-5 col-sm-12">
                                                                    <div class="row">
                                                                        <label for="createEmployee" class="col-md-4 col-sm-4 col-form-label" th:text="#{sieveDrying.label.productType}"></label>
                                                                        <select name="typeProductId" id="typeProductId" class="form-control col-md-8 col-sm-8 chosen-select-no-results">
                                                                            <option value="0">Tất cả</option>
                                                                            <option th:each="product : ${listTypeProduct}"
                                                                            th:value="${product.id}"
                                                                            th:text="${product.typeProductName}"></option>
                                                                    </select>
                                                                    </div>
                                                                </div>
                                                                <!-- ROW 1 - COL 2 -->
                                                                <div class="col-md-2 col-sm-12"></div>
                                                                <!-- ROW 1 - COL 3 -->
                                                                <div class="col-md-5 col-sm-12">
                                                                    <div class="row">
                                                                        <label class="col-md-4 col-sm-4 col-form-label" th:text="#{sieveDrying.label.lotCode}"></label>
                                                                        <select name="lotCode" id="lotCode" class="form-control col-md-8 col-sm-8">
                                                                            <option value="0">Tất cả</option>
                                                                            <option th:each="lot : ${listLots}"
                                                                            th:value="${lot.id}"
                                                                            th:text="${lot.lotCode}"></option>
                                                                    </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- ROW 2 -->
                                                            <div class="form-group row">
                                                                <div class="col-md-5 col-sm-12">
                                                                    <div class="row">
                                                                        <label class="col-md-4 col-sm-4 col-form-label" th:text="#{sieveDrying.label.fromDate}"></label>
                                                                        <input type="date" name="fromDate" id="fromDate" class="form-control col-md-8 col-sm-8 myCalendar">
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-2 col-sm-12"></div>
                                                                <div class="col-md-5 col-sm-12">
                                                                    <div class="row">
                                                                        <label class="col-md-4 col-sm-4 col-form-label" th:text="#{sieveDrying.label.toDate}"></label>
                                                                        <input type="date" name="toDate" id="toDate" class="form-control col-md-8 col-sm-8 myCalendar">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- ROW 3 -->
                                                            <div class="form-group row">
                                                                <div class="col-md-5 col-sm-12">
                                                                    <div class="row">
                                                                        <label for="createEmployee" class="col-md-4 col-sm-4 col-form-label" th:text="#{sieveDrying.label.ingrCode}"></label>
                                                                        <select name="ingredientBatchCode" class="form-control col-md-8 col-sm-8" id="ingrId">
                                                                            <option value="0">Tất cả</option>
                                                                            <option th:each="ingr : ${listIngerdientBatch}"
                                                                            th:value="${ingr.id}"
                                                                            th:text="${ingr.ingredientBatchCode}"></option>
                                                                    </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-2"></div>
                                                                <div class="col-md-5 col-sm-12">
                                                                    <div class="row">
                                                                        <label for="createEmployee" class="col-md-4 col-sm-4 col-form-label" th:text="#{sieveDrying.label.machine}"></label>
                                                                        <select name="machineId" class="form-control col-md-8 col-sm-8" id="machineId">
                                                                        <option value="0">Tất cả</option>
                                                                            <option th:each="machine : ${listMachines}"
                                                                            th:value="${machine.id}"
                                                                            th:text="${machine.machineName + ' - ' + machine.machineCode}"></option>
                                                                    </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- ROW 4 -->
                                                            <div class="row form-group">
                                                                <div class="col-md-5 col-sm-12">
                                                                    <div class="row">
                                                                        <label for="createEmployee" class="col-md-4 col-sm-4 col-form-label" th:text="#{sieveDrying.label.status}"></label>
                                                                        <select name="status" class="form-control col-md-8 col-sm-8" id="statusId">
                                                                            <option value="0" th:text="#{sieveDrying.text.all}"></option>
                                                                            <option value="1" th:text="#{sieveDrying.text.pending}"></option>
                                                                            <option value="2" th:text="#{sieveDrying.text.approved}"></option>
                                                                            <option value="3" th:text="#{sieveDrying.text.rejected}"></option>
                                                                    </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row justify-content-end">
                                                                <div class="col-md-2 col-sm-12">
                                                                    <button type="submit" class="btn btn-sm btn-info col-md-12" th:text="#{sieveDrying.text.view}" onclick="setPageId(0)">
                                                                        <i class="material-icons">save</i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </fieldset>
                                                    <!-- End of FIELDSET 3-->
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card mt-5 result-after-created">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-2 col-sm-12">
                                                    <select class="form-control col-md-12 col-sm-12" id="select-pageSize">
                                                        <option value="5" th:text="#{sieveDrying.text.5pages}"></option>
                                                        <option value="10" th:text="#{sieveDrying.text.10pages}"></option>
                                                        <option value="15" th:text="#{sieveDrying.text.15pages}"></option>
                                                    </select>
                                                </div>
                                                <div class="col-md-2 col-sm-12">
                                                    <button class="btn btn-sm btn-primary col-md-12" data-toggle="modal" data-target="#configModal" th:text="#{sieveDrying.text.viewConfig}"></button>
                                                </div>
                                                <div class="col-md-2 col-sm-12">
                                                    <button class="btn btn-sm btn-primary col-md-12" th:text="#{sieveDrying.text.export}" id="export-excel">
                                                    </button>
                                                </div>
                                                <div class="col-md-2 col-sm-12"></div>
                                                <div class="col-md-4 col-sm-12">
                                                    <ul class="pagination rounded float-right" th:if="${(!listSieveDrying.isEmpty())&&(totalPages>7)}">
                                                        <li class="" th:attr="class = ${pageId >= 3} ? 'page-item' : 'page-item disabled'">
                                                            <button class="page-link" th:attr="onclick=|setPageId(${pageId}-3)|" type="submit" form="filterForm">
                                                                <i class="icon-arrow-left"></i>
                                                            </button>
                                                        </li>
                                                        <li class="" th:style="${pageId >=2} ? 'display:inline' : 'display:none'">
                                                            <button class="page-link" th:text="${1}" th:attr="onclick=|setPageId(0)|" type="submit" form="filterForm"></button>
                                                        </li>
                                                        <li class="" th:style="${pageId >=3} ? 'display:inline' : 'display:none'">
                                                            <button class="page-link">...
                                                                
                                                            </button>
                                                        </li>
                                                        <li class="" th:attr="class = ${pageId == 0} ? 'page-item active' : 'page-item'">
                                                            <button class="page-link" th:text="${pageId == 0} ? ${pageId+1}:(${pageId == (totalPages-1)} ? ${totalPages-2}: ${pageId})" th:onclick="setPageId([[${pageId == 0} ? 0 : (${pageId == (totalPages-1)} ? ${totalPages-3}: ${pageId-1})]])" type="submit" form="filterForm"></button>
                                                        </li>
                                                        <li class="" th:attr="class = ${(pageId > 0)&&(pageId<(totalPages-1))} ? 'page-item active' : 'page-item'">
                                                            <button class="page-link" th:text="${pageId == 0} ? ${pageId+2}:(${pageId == (totalPages-1)} ? ${totalPages-1}: ${pageId+1})" th:onclick="setPageId([[${pageId == 0} ? 1 : (${pageId == (totalPages-1)} ? ${totalPages-2}: ${pageId})]])" type="submit" form="filterForm"></button>
                                                        </li>
                                                        <li class="" th:attr="class = ${pageId == (totalPages-1)} ? 'page-item active' : 'page-item'">
                                                            <button class="page-link" th:text="${pageId == 0} ? ${pageId+3}:(${pageId == (totalPages-1)} ? ${totalPages}: ${pageId+2})" th:onclick="setPageId([[${pageId == 0} ? 2 : (${pageId == (totalPages-1)} ? ${totalPages-1}: ${pageId+1})]])" type="submit" form="filterForm"></button>
                                                        </li>
                                                        <li class="" th:style="${pageId <= (totalPages-4)} ? 'display:inline' : 'display:none'">
                                                            <button class="page-link">...
                                                                
                                                            </button>
                                                        </li>
                                                        <li class="" th:style="${pageId <= (totalPages-3)} ? 'display:inline' : 'display:none'">
                                                            <button class="page-link" th:text="${totalPages}" th:attr="onclick=|setPageId(${totalPages-1})|" type="submit" form="filterForm"></button>
                                                        </li>
                                                        <li class="" th:attr="class = ${pageId <= (totalPages-3)} ? 'page-item' : 'page-item disabled'">
                                                            <button class="page-link" th:attr="onclick=|setPageId(${pageId}+3)|" type="submit" form="filterForm">
                                                                <i class="icon-arrow-right"></i>
                                                            </button>
                                                        </li>
                                                    </ul>
                                                    <ul class="pagination rounded float-right" th:if="${(!listSieveDrying.isEmpty())&&(totalPages<=7)}">
                                                        <li class="" th:attr="class = ${listSieveDrying.hasPrevious()} ? 'page-item' : 'page-item disabled'">
                                                            <button class="page-link" th:href="@{/sieve-drying/sieve-drying-report(pageId=${pageId-1})}" th:attr="onclick=|setPageId(${pageId-1})|" type="submit" form="filterForm">
                                                                <i class="icon-arrow-left"></i>
                                                            </button>
                                                        </li>
                                                        <th:block th:each="i: ${#numbers.sequence(0, totalPages - 1)}">
                                                            <li class="" th:attr="class = ${pageId == i} ? 'page-item active' : 'page-item' ">
                                                                <button class="page-link" th:href="@{/sieve-drying/sieve-drying-report(pageId=${i})}" th:text="${i + 1}" th:attr="onclick=|setPageId(${i})|" type="submit" form="filterForm"></button>
                                                            </li>
                                                        </th:block>
                                                        <li class="" th:attr="class = ${listSieveDrying.hasNext()} ? 'page-item' : 'page-item disabled'">
                                                            <button class="page-link" th:href="@{/sieve-drying/sieve-drying-report(pageId=${pageId+1})}" th:attr="onclick=|setPageId(${pageId+1})|" type="submit" form="filterForm">
                                                                <i class="icon-arrow-right"></i>
                                                            </button>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="table-responsive">
                                                    <table class="table table-bordered table-hover" id="record-table">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col" class="text-center">ID</th>
                                                                <th scope="col" class="text-center chk-date" th:text="#{sieveDrying.text.date}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.text.time}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.ingrCode}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.moisture}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.inputTemp}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.pressure}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.outputTemp}"></th>
                                                                <th scope="col" class="text-center">pH</th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.impurities}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.size}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.color}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.odor}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.taste}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.netStat}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.lotCode}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.text.correctiveAction}"></th>
                                                                <th scope="col" class="text-center" th:text="#{sieveDrying.label.status}"></th>
                                                                <th:block th:each="authority : ${#httpServletRequest.getUserPrincipal().getAuthorities()}" scope="col" class="text-center">
                                                                    <th scope="col" class="text-center" th:if="${authority.getAuthority().equals('ADMIN')}">
                                                                        <div class="form-check-inline">
                                                                            <input class="form-check-input" type="checkbox" id="master-checkbox">
                                                                            <label class="form-check-label" for="master-checkbox">All</label>
                                                                        </div>
                                                                    </th>
                                                                    <th scope="col" class="text-center" th:if="${authority.getAuthority().equals('ADMIN')}">
                                                                        <div class="btn-group">
                                                                            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                                                <i class="fas fa-bolt"></i><i class="fas fa-sliders-h"></i>
                                                                            </button>
                                                                            <div class="dropdown-menu dropdown-menu-right">
                                                                                <a href="#" class="dropdown-item judgement-selected approve-selected-records" th:attr="onclick=|setPageId(${pageId})|" data-toggle="modal" data-target="#modal-approve-selected" th:text="#{sieveDrying.btn.approveSelected}">
                                                                                </a>
                                                                                <a href="#" class="dropdown-item judgement-selected reject-selected-records" th:attr="onclick=|setPageId(${pageId})|" data-toggle="modal" data-target="#modal-reject-selected" th:text="#{sieveDrying.btn.rejectSelected}">
                                                                                </a>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                </th:block>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr th:each="record, i : ${listSieveDrying}">
                                                                <td th:utext=${i.index+1} scope="row" class="text-center"></td>
                                                                <td th:utext=${record.inputDate} class="text-center"></td>
                                                                <td th:utext=${record.inputTime} class="text-center"></td>
                                                                <td th:utext=${record.ingredientBatch.ingredientBatchCode} class="text-center"></td>
                                                                <td th:utext=${record.moisture} class="text-center"></td>
                                                                <td th:utext=${record.inputTemp} class="text-center"></td>
                                                                <td th:utext=${record.pressure} class="text-center"></td>
                                                                <td th:utext=${record.outputTemp} class="text-center"></td>
                                                                <td th:utext=${record.pH} class="text-center"></td>
                                                                <td th:utext="${record.impurities}? #{sieveDrying.label.ok}:#{sieveDrying.label.ng}" th:style="${record.impurities}?'':'color:red;'" class="text-center"></td>
                                                                <td th:utext="${record.size}? #{sieveDrying.label.ok}:#{sieveDrying.label.ng}" th:style="${record.size}?'':'color:red;'" class="text-center"></td>
                                                                <td th:utext="${record.color}? #{sieveDrying.label.ok}:#{sieveDrying.label.ng}" th:style="${record.color}?'':'color:red;'" class="text-center"></td>
                                                                <td th:utext="${record.odor}? #{sieveDrying.label.ok}:#{sieveDrying.label.ng}" th:style="${record.odor}?'':'color:red;'" class="text-center"></td>
                                                                <td th:utext="${record.taste}? #{sieveDrying.label.ok}:#{sieveDrying.label.ng}" th:style="${record.taste}?'':'color:red;'" class="text-center"></td>
                                                                <td th:utext="${record.netStat}? #{sieveDrying.label.ok}:#{sieveDrying.label.ng}" th:style="${record.netStat}?'':'color:red;'" class="text-center"></td>
                                                                <td th:utext=${record.lotCode.lotCode} class="text-center"></td>
                                                                <td th:utext=${record.correctiveAction} class="text-center"></td>
                                                                <td class="text-center">
                                                                    <div th:switch="${(record.status)}">
                                                                        <div th:case="Pending">
                                                                            <i class="fas fa-eye-slash icon-md text-warning" title="Chờ duyệt"></i>
                                                                        </div>
                                                                        <div th:case="Rejected">
                                                                            <i class="fa fa-times-circle icon-md text-danger" title="Không duyệt"></i>
                                                                        </div>
                                                                        <div th:case="Approved">
                                                                            <i class="fas fa-eye icon-md text-primary" title="Đã duyệt"></i>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                                <th:block th:each="authority : ${#httpServletRequest.getUserPrincipal().getAuthorities()}" scope="col" class="text-center">
                                                                    <td scope="row" class="text-center" th:if="${authority.getAuthority().equals('ADMIN')}">
                                                                        <div class="form-check-inline">
                                                                            <input class="form-check-input position-static id-checkbox inline" type="checkbox" th:value="${record.id}" th:id="'checkbox-'+${record.id}">
                                                                            <label class="form-check-label" th:for="'checkbox-'+${i.index+1}" th:utext=${i.index+1}></label>
                                                                        </div>
                                                                    </td>
                                                                    <td class="text-center" th:if="${authority.getAuthority().equals('ADMIN')}">
                                                                        <div class="btn-group">
                                                                            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                                                    <i class="fas fa-sliders-h"></i>
                                                                                </button>
                                                                            <div class="dropdown-menu dropdown-menu-right">
                                                                                <a href="#" class="dropdown-item judgement approve-record" th:attr="onclick=|setPageId(${pageId})|" data-toggle="modal" data-target="#modal-approve" th:data="${record.id}" th:text="#{sieveDrying.btn.approve}">
                                                                                </a>
                                                                                <a href="#" class="dropdown-item judgement reject-record" th:attr="onclick=|setPageId(${pageId})|" data-toggle="modal" data-target="#modal-reject" th:data="${record.id}" th:text="#{sieveDrying.btn.reject}">
                                                                                </a>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                </th:block>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Main form end -->
            <!-- content-wrapper ends -->
            <!-- partial:partials/_footer.html -->
            <!-- partial -->
            <!-- Copy from here to end-->
        </th:block>
    </div>
    <!-- partial:layouts/footer.html -->
    <th:block id="footer" th:replace="layouts/footer">
    </th:block>

    <!-- Custom JavaScript for this page in here -->

    <th:block id="custom-js">
        <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

        <script>
            function filterFormSubmit() {
                $("#filterForm").submit();
            }

            $("#master-checkbox").change(function() {
                console.log("Master checkbox clicked...")
                if ($("#master-checkbox").is(":checked")) {
                    $(".id-checkbox").prop("checked", true)
                } else {
                    $(".id-checkbox").prop("checked", false)
                }
            })



            $('#select-pageSize').change(function() {
                $(".updateId-pageId").val(0)
                $(".updateId-pageSize").val($(this).val())
                    // $(".updateId-status").val($("statusId").val())
                $("#filterForm").submit();
            });
        </script>

        <script th:inline="javascript">
            /*<![CDATA[*/

            //Set current page size and page ID
            $(document).ready(function() {
                $("#select-pageSize").val( /*[[${pageSize}]]*/ )
                    //$("#select-status").val( /*[[${status}]]*/ )
            })

            //set pageID and total page
            function setPageId(page_Id) {
                let pageId = page_Id
                $(".updateId-pageId").val(pageId)
                $(".updateId-pageSize").val($("#select-pageSize").val())

                console.log(pageId);
                // $(".updateId-status").val($("#statusId").val())
            }

            // Approve/Reject single record
            $(".judgement").click(function() {
                let id = $(this).attr("data");
                if ($(this).hasClass('approve-record')) {
                    $("#filterForm").prop('action', /*[[@{/sieve-drying/approve}]]*/ )
                } else {
                    $("#filterForm").prop('action', /*[[@{/sieve-drying/reject}]]*/ )
                }
                $("<input>").attr({
                    type: 'hidden',
                    class: 'dataId',
                    name: 'id'
                }).appendTo($("#filterForm"))
                $(".dataId").prop('value', id)
            })

            //Approve/Reject selected record
            $(".judgement-selected").click(function() {

                if ($(this).hasClass('approve-selected-records')) {
                    $("#filterForm").prop('action', /*[[@{/sieve-drying/approve-selected}]]*/ )
                } else {
                    $("#filterForm").prop('action', /*[[@{/sieve-drying/reject-selected}]]*/ )
                }
                let idList = $('input:checkbox:checked.id-checkbox').map(function() {
                    return this.value;
                }).get();
                $("<input>").attr({
                    type: 'hidden',
                    class: 'dataId',
                    name: 'idList'
                }).appendTo($("#filterForm"))
                $(".dataId").attr("value", idList);
            })

            // Run export excel
            $("#export-excel").click(function() {
                console.log("Export")
                $('#filterForm').prop("action", /*[[@{/sieve-drying/get-report/download}]]*/ ); //change the form action
                $('#filterForm').submit(); // submit the form
            })

            // Pre-fill date value
            $(document).ready(function() {
                let today = new Date();
                let data = /*[[${lastReportDTO}]]*/ 'default'
                console.log(data);
                if (data.fromDate == null) {
                    let first_day_of_month = today.getFullYear() + "-" + ("0" + (today.getMonth() + 1)).slice(-2) + "-" + ("01");
                    $("#fromDate").val(first_day_of_month);
                    let current_day = today.getFullYear() + "-" + ("0" + (today.getMonth() + 1)).slice(-2) + "-" + ("0" + today.getDate()).slice(-2);
                    $("#toDate").val(current_day);
                } else {
                    $("#fromDate").val(data.fromDate);
                    $("#toDate").val(data.toDate);
                }
                $("#typeProductId").val( /*[[${lastReportDTO.TypeProductId}]]*/ )
                $("#lotCode").val( /*[[${lastReportDTO.lotCode}]]*/ )
                $("#machineId").val( /*[[${lastReportDTO.machineId}]]*/ )
                $("#ingrId").val( /*[[${lastReportDTO.ingredientBatchCode}]]*/ )
                $("#statusId").val( /*[[${lastReportDTO.status}]]*/ )
                $("#select-pageSize").val( /*[[${pageSize}]]*/ )
                console.log( /*[[${lastReportDTO}]]*/ )
            })

            /*]]>*/
        </script>


        <script>
            // Script for auto day-time fill
            function calendarUpdate() {
                let today = new Date();
                let current_day = today.getFullYear() + "-" +
                    ("0" + today.getMonth()).slice(-2) + "-" +
                    ("0" + today.getDate()).slice(-2);
                //document.getElementById("myCalendar").value = current_day;
                let myDates = document.getElementsByClassName("myCalendar");
                for (let index = 0; index < myDates.length; index++) {
                    const element = myDates[index];
                    element.value = current_day
                }
            }

            //Show/hide columns selected by modal
            function showhidetable(val) {
                var tb = document.getElementById("record-table");
                var tbtr = tb.getElementsByTagName("tr");
                $(tbtr[0].getElementsByTagName("th")[val]).toggle();

                for (let i = 0; i < tbtr.length; i++) {
                    $(tbtr[i].getElementsByTagName("td")[val]).toggle();
                }
            }

            //Show all columns
            function showAllCol() {
                $(":checkbox:not(:checked)").prop("checked", true);
                $("th").show();
                $("td").show();
            }

            function hideAllCol() {
                $(":checkbox").prop("checked", false);
                $("th").hide();
                $("td").hide();
            }

            function toggle() {
                var status = document.getElementById('toggle-state').checked
                if (status) {
                    showAllCol();
                } else {
                    hideAllCol();
                }
            }
            $(document).ready(function() {
                $("#configModal").draggable({
                    handle: ".modal-header"
                });
            })
        </script>
        <!-- End custom js for this page-->

    </th:block>
    <!-- End Custom JavaScript  -->

</body>

</html>