<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
	th:replace="
    ~{layouts/main-layout :: main-fragment(
                                          ~{:: title},
                                          ~{:: #css-page},
                                          ~{:: #custom-css-page},
                                          ~{:: #navbar},
                                          ~{:: #main-content},  
                                          ~{:: #footer},
                                          ~{:: #custom-js}
                                         )}">

<head>

<title>Sản phẩm</title>

<!-- partial:layouts/otherStaticResources.html -->
<th:block id="css-page" th:replace="~{layouts/mainCss}"></th:block>

<!-- Custom CSS for this page in here -->
<th:block id="custom-css-page">


	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
		integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w=="
		crossorigin="anonymous" />
</th:block>
<!-- End Custom CSS  -->

</head>

<body>
	<div class="container-scroller">

		<!-- partial:layouts/navbar.html -->
		<th:block id="navbar" th:replace="layouts/navbar">
		</th:block>

		<th:block id="main-content">

			<!-- Copy From start to here-->
			<!-- MODAL SECTION Begin -->
			
			<!-- record-approve-modal BEGIN: modal for approve record confirmation -->
            <div class="modal" tabindex="-1" role="dialog" id="modal-approve">
                <div class="modal-dialog" role="document">

                    <form th:action="@{/product/approve}" method="post">
                        <div class="modal-content bg-white">
                            <div class="modal-body">
                                <p class="h4" th:text="#{sieveDrying.text.approveConfirm}"></p>
                                <input type="hidden" name="id" class="dataId">
                            </div>
                            <div class="modal-footer">
                                <div class="row justify-content-center">
                                    <button type="submit" class="btn btn-danger" th:text="#{sieveDrying.btn.yes}"></button>
                                    <button type="button" class="btn btn-light" data-dismiss="modal" th:text="#{sieveDrying.btn.no}"></button>
                                </div>

                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!-- record-approve-modal END: modal for approve record confirmation -->
            
             <!-- record-reject-modal BEGIN: modal for reject record confirmation -->
            <div class="modal" tabindex="-1" role="dialog" id="modal-reject">
                <div class="modal-dialog" role="document">

                    <form th:action="@{/product/reject}" method="post">
                        <div class="modal-content bg-white">
                            <div class="modal-body">
                                <p class="h4" th:text="#{sieveDrying.text.rejectConfirm}"></p>
                                <input type="hidden" name="id" class="dataId">
                                
                            </div>
                            <div class="modal-footer">
                                <div class="row justify-content-center">
                                    <button type="submit" class="btn btn-danger" th:text="#{sieveDrying.btn.yes}"></button>
                                    <button type="button" class="btn btn-light" data-dismiss="modal" th:text="#{sieveDrying.btn.no}"></button>
                                </div>

                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!-- record-reject-modal END: modal for reject record confirmation -->

			<!-- record-approve-selected-modal BEGIN: modal for approve selected records confirmation -->
			<div class="modal" tabindex="-1" role="dialog"
				id="modal-approve-selected">
				<div class="modal-dialog" role="document">

					<form th:action="@{/product/approve-selected}" method="post">
						<div class="modal-content bg-white">
							<div class="modal-body">
								<p class="h4" th:text="#{sieveDrying.text.approveConfirm}"></p>
								<input type="hidden" name="idList" class="dataId">
							</div>
							<div class="modal-footer">
								<div class="row justify-content-center">
									<button type="submit" class="btn btn-danger"
										th:text="#{sieveDrying.btn.yes}"></button>
									<button type="button" class="btn btn-light"
										data-dismiss="modal" th:text="#{sieveDrying.btn.no}"></button>
								</div>

							</div>
						</div>
					</form>
				</div>
			</div>
			<!-- record-approve-selected-modal END: modal for approve record confirmation -->

			<!-- record-reject-modal BEGIN: modal for reject record confirmation -->
			<div class="modal" tabindex="-1" role="dialog"
				id="modal-reject-selected">
				<div class="modal-dialog" role="document">

					<form th:action="@{/product/reject-selected}" method="post">
						<div class="modal-content bg-white">
							<div class="modal-body">
								<p class="h4" th:text="#{sieveDrying.text.rejectConfirm}"></p>
								<input type="hidden" name="idList" class="dataId">
							</div>
							<div class="modal-footer">
								<div class="row justify-content-center">
									<button type="submit" class="btn btn-danger"
										th:text="#{sieveDrying.btn.yes}"></button>
									<button type="button" class="btn btn-light"
										data-dismiss="modal" th:text="#{sieveDrying.btn.no}"></button>
								</div>

							</div>
						</div>
					</form>
				</div>
			</div>
			<!-- record-reject-modal END: modal for reject record confirmation -->
			
			<!-- delete-selected-modal BEGIN: modal for delete selected records confirmation -->
			<div class="modal" tabindex="-1" role="dialog"
				id="modal-delete-selected">
				<div class="modal-dialog" role="document">

					<form th:action="@{/product/delete-selected}" method="post">
						<div class="modal-content bg-white">
							<div class="modal-body">
								<p class="h4" th:text="#{sieveDrying.text.approveConfirm}"></p>
								<input type="hidden" name="idList" class="dataId">
							</div>
							<div class="modal-footer">
								<div class="row justify-content-center">
									<button type="submit" class="btn btn-danger"
										th:text="#{sieveDrying.btn.yes}"></button>
									<button type="button" class="btn btn-light"
										data-dismiss="modal" th:text="#{sieveDrying.btn.no}"></button>
								</div>

							</div>
						</div>
					</form>
				</div>
			</div>
			<!-- record-approve-selected-modal END: modal for approve record confirmation -->
			
			<!-- MODAL SECTION Ends -->
			<!-- Main form start -->

			<div class="container-fluid page-body-wrapper">
				<div class="main-panel">
					<div class="content-wrapper">
						<div class="row grid-margin">
							<div class="col-12">
								<div class="card">
									<div class="card-body">
										<h4 class="card-title text-center">QUẢN LÝ THÀNH PHẨM</h4>

										<div class="template-demo">
											<!-- SHOW 10 ... ITEMS -->
											<a href="/product/new" class="btn btn-warning ml-0">Tạo
												Sản Phẩm</a>
											<form th:action="@{/product/all}"
												class="form-inline form-inline-search" method="GET">
												<input type="text" id="keyword"
													class="form-control mb-2 mr-sm-2" th:name="keyword"
													placeholder="Nhập..." aria-label="Recipient's username" />

												<button type="submit" class="btn btn-primary mb-2">
													Tìm Kiếm</button>
											</form>
											<!--end search-->
										</div>
										<!-- view list-->
										<div class="table-responsive">
											<table class="table table-hover table-bordered text-center">
												<thead>
													<tr>
														<th scope="col" class="text-center">#</th>
														<th rowspan="2" colspan="1" class="text-break"
															style="width: 10rem">Mã Sản Phẩm</th>

														<th rowspan="1" class="text-break" style="width: 10rem">
															Tên Sản Phẩm</th>
														<th rowspan="2" class="text-break" style="width: 10rem">
															Ngày Nhập</th>
														<th rowspan="2" colspan="1" class="text-break"
															style="width: 10rem">Tổng NL (kg)</th>

														<th rowspan="1" class="text-break" style="width: 10rem">
															Xác (kg)</th>
														<th rowspan="2" class="text-break" style="width: 10rem">
															Cốt (kg)</th>

														<th rowspan="1" class="text-break" style="width: 10rem">
															Mã Máy</th>
														<th rowspan="2" class="text-break" style="width: 10rem">
															Loại SP</th>
														<th rowspan="2" class="text-break" style="width: 10rem">
															Trạng Thái</th>
														<th rowspan="2" style="width: 9em">Ghi Chú</th>
														<th scope="col" class="text-center">
															<div class="form-check text-center">
																<input class="form-check-input" type="checkbox"
																	id="master-checkbox"> <label
																	class="form-check-label" for="master-checkbox">All</label>
															</div>
														</th>
														<th rowspan="2" style="width: 9em"><th:block
																th:each="authority : ${#httpServletRequest.getUserPrincipal().getAuthorities()}">
																<div th:if="${authority.getAuthority().equals('ADMIN')}">

																	<div class="btn-group">
																		<button type="button"
																			class="btn btn-danger dropdown-toggle"
																			data-toggle="dropdown" aria-haspopup="true"
																			aria-expanded="false">Hành Động</button>

																		<div class="dropdown-menu dropdown-menu-right">
																			<a
																				class="dropdown-item option-selected judgement-selected approve-selected-records btn btn-outline-info btn-fw btn-md"
																				data-toggle="modal"
																				data-target="#modal-approve-selected"
																				th:text="#{sieveDrying.btn.approveSelected}"> </a>
																				<a
																				class="dropdown-item option-selected judgement reject-record btn btn-outline-info btn-fw btn-md"
																				data-toggle="modal"
																				data-target="#modal-reject-selected"
																				th:text="#{sieveDrying.btn.rejectSelected}"> </a>
																				<a
																				class="dropdown-item option-selected judgement-selected approve-selected-records btn btn-outline-info btn-fw btn-md"
																				data-toggle="modal"
																				data-target="#modal-delete-selected"
																				>Xóa mục đã chọn</a>
																		</div>
																	</div>
																</div>

																<div
																	th:if="${authority.getAuthority().equals('EMPLOYEE')}">
																	<div class="btn-group">
																		<button type="button"
																			class="btn btn-danger dropdown-toggle"
																			data-toggle="dropdown" aria-haspopup="true"
																			aria-expanded="false">
																			Hành động</button>
																		<div class="dropdown-menu dropdown-menu-right">
																			<a
																				class="dropdown-item option-selected judgement-selected approve-selected-records btn btn-outline-info btn-fw btn-md"
																				data-toggle="modal"
																				data-target="#modal-delete-selected"
																				>Xóa mục đã chọn</a>
																		</div>
																	</div>


																</div>
															</th:block></th>





													</tr>
												</thead>

												<tbody>
													<tr
														th:if="${listProducts == null || listProducts.isEmpty()}">
														<td colspan="10">[[#{reporpProduct.message.noData}]]</td>
													</tr>

													<th:block
														th:unless="${listProducts == null || listProducts.isEmpty()}">
														<tr th:each="product, proStat : ${listProducts}"
															th:id="${proStat.index}" th:value="${product.productId}">
															<th
																th:utext="${(proStat.index+1 + (currentPage*pageSize))}"
																scope="row" class="text-center"></th>
															<td>
																<p th:text="${product.productCode}"></p>
															</td>
															<td>
																<p th:text="${product.productName}"></p>
															</td>
															<td>
																<p th:text="${product.productEntryDate}"></p>
															</td>

															<td>
																<p th:text="${product.totalWeightInput}"></p>
															</td>
															<td>
																<p th:text="${product.residue}"></p>
															</td>
															<td>
																<p th:text="${product.coconutMilk}"></p>
															</td>
															<td>
																<p th:text="${product.machine.machineName}"></p>
															</td>
															<td>
																<p th:text="${product.typeProduct.typeProductName}"></p>
															</td>

															<td>

																<div th:switch="${product.status}">
																	<p th:case="Pending"
																		class=" text-warning  text-center h4"
																		data-toggle="tooltip" data-placement="top" title
																		th:data-original-title="#{checklist.view.status.item.pending}">
																		<i class="fas fa-eye-slash"></i>

																	</p>
																	<p th:case="Approved"
																		class="text-primary text-center h4"
																		data-toggle="tooltip" data-placement="top" title
																		th:data-original-title="#{checklist.view.status.item.approved}">
																		<i class="fas fa-eye"></i>

																	</p>
																	<p th:case="Rejected"
																		class="text-danger text-center h4"
																		data-toggle="tooltip" data-placement="top" title
																		th:data-original-title="#{checklist.view.status.item.reject}">
																		<i class="far fa-times-circle"></i>
																</div>
															</td>

															<td>
																<p th:text="${product.note}"></p>
															</td>

															<th scope="col" class="text-center">
																<div class="form-check">
																	<input
																		class="form-check-input position-static id-checkbox"
																		type="checkbox" th:value="${product.productId}">
																</div>
															</th>

															<td><th:block
																	th:each="authority : ${#httpServletRequest.getUserPrincipal().getAuthorities()}">
																	<div
																		th:if="${authority.getAuthority().equals('ADMIN')}">
																		<div th:switch="${product.status}">
																			<div th:case="Pending">
																				<!-- status == pending -->
																				<div class="btn-group">
																					<button type="button"
																						class="btn btn-secondary dropdown-toggle"
																						data-toggle="dropdown" aria-haspopup="true"
																						aria-expanded="false">Action</button>
																					<div class="dropdown-menu dropdown-menu-right">
																						<a
																							th:href="@{'/product/edit/' + ${product.productId}}"
																							class="btn btn-outline-info btn-fw btn-md edit-button dropdown-item"><i
																							class="icon-pencil"></i>Sửa</a>

																						<button type="button"
																							class="btn btn-outline-info btn-fw btn-md delete-button dropdown-item"
																							data-toggle="modal"
																							th:attr="data-target='#recordDeleteModal'+${product.productId}">
																							<i class="icon-trash"></i>Xóa
																						</button>

																						<a href="#" data-toggle="modal"
																							class="btn btn-outline-info btn-fw btn-md dropdown-item"
																							th:attr="data-target='#productDetailsModal'+${product.productId}">
																							<i class="icon-info"></i> Chi tiết
																						</a>
																						
																						<a class="dropdown-item judgement approve-record btn btn-outline-info btn-fw btn-md edit-button"
																						data-toggle="modal" data-target="#modal-approve"
																						th:data="${product.productId}">
																						<i class="icon-check"></i>Duyệt
                                                                                    	</a>
                                                                                    	
                                                                                    	<a class="dropdown-item judgement reject-record btn btn-outline-info btn-fw btn-md edit-button" 
                                                                                    	data-toggle="modal" data-target="#modal-reject"
                                                                                    	th:data="${product.productId}">
                                                                                    	<i class="far fa-times-circle"></i>Không Duyệt
                                                                                   		</a>

																					</div>
																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='recordDeleteModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog" role="document">
																							<div class="modal-content">
																								<div class="modal-header">
																									<h5 class="modal-title"
																										id="recordDeleteModalLabel">Delete Record</h5>
																									<button type="button" class="close"
																										data-dismiss="modal" aria-label="Close">
																										<span aria-hidden="true">&times;</span>
																									</button>
																								</div>
																								<div class="modal-body">Bạn có chắc chắn
																									xóa không ?</div>
																								<div class="modal-footer">
																									<button type="button" class="btn btn-secondary"
																										data-dismiss="modal">Không</button>


																									<a class="btn btn-primary"
																										th:href="@{/product/delete/{deleteId}(deleteId=${product.productId})}">Có</a>
																								</div>
																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->

																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='productDetailsModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog modal-lg" role="document">
																							<div class="modal-content">

																								<!-- Modal Header -->
																								<div class="modal-header">
																									<h4 class="modal-title">Modal Heading</h4>
																									<button type="button" class="close"
																										data-dismiss="modal">&times;</button>
																								</div>

																								<!-- Modal body -->
																								<div class="modal-body">
																									<table class="table table-striped">
																										<thead>
																											<tr>
																												<th>Finished product (kg)</th>
																												<th>Unsatisfied product (kg)</th>
																												<th>Water extract (kg)</th>

																												<th>Black point (kg)</th>
																												<th>Low pH (kg)</th>
																												<th>Clotted (kg)</th>

																												<th>Xylon (kg)</th>
																												<th>Scrap (kg)</th>
																												<th>Crusted (kg)</th>

																												<th>Residue (kg)</th>
																												<th>Total (kg)</th>
																											</tr>
																										</thead>
																										<tbody>
																											<tr>
																												<td>
																													<p
																														th:text="${product.finishedProductDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.unsatisfiedProduct}"></p>
																												</td>

																												<td>
																													<p th:text="${product.waterExtract}"></p>
																												</td>

																												<td>
																													<p th:text="${product.coconutSilk}"></p>
																												</td>

																												<td>
																													<p th:text="${product.lowPh}"></p>
																												</td>

																												<td>
																													<p th:text="${product.clotted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.xylon}"></p>
																												</td>

																												<td>
																													<p th:text="${product.scrap}"></p>
																												</td>

																												<td>
																													<p th:text="${product.crusted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.residueDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.total}"></p>
																												</td>

																											</tr>

																										</tbody>
																									</table>
																								</div>

																								<!-- Modal footer -->
																								<div class="modal-footer">
																									<button type="button" class="btn btn-danger"
																										data-dismiss="modal">Close</button>
																								</div>

																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->


																				</div>
																			</div>
																			
																			<!-- check approved -->
																			
																			<div th:case="Approved">
																				<!-- status == approved -->
																				<div class="btn-group">
																					<button type="button"
																						class="btn btn-secondary dropdown-toggle"
																						data-toggle="dropdown" aria-haspopup="true"
																						aria-expanded="false">Action</button>
																					<div class="dropdown-menu dropdown-menu-right">
																						<a href="#" data-toggle="modal"
																							class="btn btn-outline-info btn-fw btn-md dropdown-item"
																							th:attr="data-target='#productDetailsModal'+${product.productId}">
																							<i class="icon-info"></i> Chi tiết
																						</a>
																						
																						<a class="dropdown-item judgement reject-record btn btn-outline-info btn-fw btn-md edit-button" 
                                                                                    	data-toggle="modal" data-target="#modal-reject"
                                                                                    	th:data="${product.productId}">
                                                                                    	<i class="far fa-times-circle"></i>Không Duyệt
                                                                                   		</a>
																					</div>
																					
																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='productDetailsModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog modal-lg" role="document">
																							<div class="modal-content">

																								<!-- Modal Header -->
																								<div class="modal-header">
																									<h4 class="modal-title">Modal Heading</h4>
																									<button type="button" class="close"
																										data-dismiss="modal">&times;</button>
																								</div>

																								<!-- Modal body -->
																								<div class="modal-body">
																									<table class="table table-striped">
																										<thead>
																											<tr>
																												<th>Finished product (kg)</th>
																												<th>Unsatisfied product (kg)</th>
																												<th>Water extract (kg)</th>

																												<th>Black point (kg)</th>
																												<th>Low pH (kg)</th>
																												<th>Clotted (kg)</th>

																												<th>Xylon (kg)</th>
																												<th>Scrap (kg)</th>
																												<th>Crusted (kg)</th>

																												<th>Residue (kg)</th>
																												<th>Total (kg)</th>
																											</tr>
																										</thead>
																										<tbody>
																											<tr>
																												<td>
																													<p
																														th:text="${product.finishedProductDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.unsatisfiedProduct}"></p>
																												</td>

																												<td>
																													<p th:text="${product.waterExtract}"></p>
																												</td>

																												<td>
																													<p th:text="${product.coconutSilk}"></p>
																												</td>

																												<td>
																													<p th:text="${product.lowPh}"></p>
																												</td>

																												<td>
																													<p th:text="${product.clotted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.xylon}"></p>
																												</td>

																												<td>
																													<p th:text="${product.scrap}"></p>
																												</td>

																												<td>
																													<p th:text="${product.crusted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.residueDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.total}"></p>
																												</td>

																											</tr>

																										</tbody>
																									</table>
																								</div>

																								<!-- Modal footer -->
																								<div class="modal-footer">
																									<button type="button" class="btn btn-danger"
																										data-dismiss="modal">Close</button>
																								</div>

																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->


																				</div>
																			</div>
																			
																			<!-- check rejected -->
																			
																			<div th:case="Rejected">
																				<!-- status == rejected -->
																				<div class="btn-group">
																					<button type="button"
																						class="btn btn-secondary dropdown-toggle"
																						data-toggle="dropdown" aria-haspopup="true"
																						aria-expanded="false">Action</button>
																					<div class="dropdown-menu dropdown-menu-right">
																						
																						<a
																							th:href="@{'/product/edit/' + ${product.productId}}"
																							class="btn btn-outline-info btn-fw btn-md edit-button dropdown-item"><i
																							class="icon-pencil"></i>Sửa</a>

																						<button type="button"
																							class="btn btn-outline-info btn-fw btn-md delete-button dropdown-item"
																							data-toggle="modal"
																							th:attr="data-target='#recordDeleteModal'+${product.productId}">
																							<i class="icon-trash"></i>Xóa
																						</button>
																						
																						<a href="#" data-toggle="modal"
																							class="btn btn-outline-info btn-fw btn-md dropdown-item"
																							th:attr="data-target='#productDetailsModal'+${product.productId}">
																							<i class="icon-info"></i>Chi tiết
																						</a>
																					
																						<a class="dropdown-item judgement approve-record btn btn-outline-info btn-fw btn-md edit-button"
																						data-toggle="modal" data-target="#modal-approve"
																						th:data="${product.productId}">
																						<i class="icon-check"></i>Duyệt
                                                                                    	</a>

																					</div>
																					
																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='recordDeleteModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog" role="document">
																							<div class="modal-content">
																								<div class="modal-header">
																									<h5 class="modal-title"
																										id="recordDeleteModalLabel">Delete Record</h5>
																									<button type="button" class="close"
																										data-dismiss="modal" aria-label="Close">
																										<span aria-hidden="true">&times;</span>
																									</button>
																								</div>
																								<div class="modal-body">Bạn có chắc chắn
																									xóa không ?</div>
																								<div class="modal-footer">
																									<button type="button" class="btn btn-secondary"
																										data-dismiss="modal">Không</button>


																									<a class="btn btn-primary"
																										th:href="@{/product/delete/{deleteId}(deleteId=${product.productId})}">Có</a>
																								</div>
																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->

																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='productDetailsModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog modal-lg" role="document">
																							<div class="modal-content">

																								<!-- Modal Header -->
																								<div class="modal-header">
																									<h4 class="modal-title">Modal Heading</h4>
																									<button type="button" class="close"
																										data-dismiss="modal">&times;</button>
																								</div>

																								<!-- Modal body -->
																								<div class="modal-body">
																									<table class="table table-striped">
																										<thead>
																											<tr>
																												<th>Finished product</th>
																												<th>Unsatisfied product</th>
																												<th>Water extract</th>

																												<th>Black point</th>
																												<th>Low pH</th>
																												<th>Clotted</th>

																												<th>Xylon</th>
																												<th>Scrap</th>
																												<th>Crusted</th>

																												<th>Residue</th>
																												<th>Total</th>
																											</tr>
																										</thead>
																										<tbody>
																											<tr>
																												<td>
																													<p
																														th:text="${product.finishedProductDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.unsatisfiedProduct}"></p>
																												</td>

																												<td>
																													<p th:text="${product.waterExtract}"></p>
																												</td>

																												<td>
																													<p th:text="${product.coconutSilk}"></p>
																												</td>

																												<td>
																													<p th:text="${product.lowPh}"></p>
																												</td>

																												<td>
																													<p th:text="${product.clotted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.xylon}"></p>
																												</td>

																												<td>
																													<p th:text="${product.scrap}"></p>
																												</td>

																												<td>
																													<p th:text="${product.crusted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.residueDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.total}"></p>
																												</td>

																											</tr>

																										</tbody>
																									</table>
																								</div>

																								<!-- Modal footer -->
																								<div class="modal-footer">
																									<button type="button" class="btn btn-danger"
																										data-dismiss="modal">Close</button>
																								</div>

																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->
																					
																					


																				</div>
																			</div>

																		</div>
																	</div>
																	
																	<!-- user -->
																	
																	<div
																		th:if="${authority.getAuthority().equals('EMPLOYEE')}">
																		<div th:switch="${product.status}">
																			<div th:case="Pending">
																				<!-- status == pending -->
																				<div class="btn-group">
																					<button type="button"
																						class="btn btn-secondary dropdown-toggle"
																						data-toggle="dropdown" aria-haspopup="true"
																						aria-expanded="false">Action</button>
																					<div class="dropdown-menu dropdown-menu-right">
																						<a
																							th:href="@{'/product/edit/' + ${product.productId}}"
																							class="btn btn-outline-info btn-fw btn-md edit-button dropdown-item"><i
																							class="icon-pencil"></i>Sửa</a>

																						<button type="button"
																							class="btn btn-outline-info btn-fw btn-md delete-button dropdown-item"
																							data-toggle="modal"
																							th:attr="data-target='#recordDeleteModal'+${product.productId}">
																							<i class="icon-trash"></i>Xóa
																						</button>

																						<a href="#" data-toggle="modal"
																							class="btn btn-outline-info btn-fw btn-md dropdown-item"
																							th:attr="data-target='#productDetailsModal'+${product.productId}">
																							<i class="icon-info"></i> Chi tiết
																						</a>
																					</div>
																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='recordDeleteModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog" role="document">
																							<div class="modal-content">
																								<div class="modal-header">
																									<h5 class="modal-title"
																										id="recordDeleteModalLabel">Delete Record</h5>
																									<button type="button" class="close"
																										data-dismiss="modal" aria-label="Close">
																										<span aria-hidden="true">&times;</span>
																									</button>
																								</div>
																								<div class="modal-body">Bạn có chắc chắn
																									xóa không ?</div>
																								<div class="modal-footer">
																									<button type="button" class="btn btn-secondary"
																										data-dismiss="modal">Không</button>


																									<a class="btn btn-primary"
																										th:href="@{/product/delete/{deleteId}(deleteId=${product.productId})}">Có</a>
																								</div>
																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->

																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='productDetailsModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog modal-lg" role="document">
																							<div class="modal-content">

																								<!-- Modal Header -->
																								<div class="modal-header">
																									<h4 class="modal-title">Modal Heading</h4>
																									<button type="button" class="close"
																										data-dismiss="modal">&times;</button>
																								</div>

																								<!-- Modal body -->
																								<div class="modal-body">
																									<table class="table table-striped">
																										<thead>
																											<tr>
																												<th>Finished product</th>
																												<th>Unsatisfied product</th>
																												<th>Water extract</th>

																												<th>Black point</th>
																												<th>Low pH</th>
																												<th>Clotted</th>

																												<th>Xylon</th>
																												<th>Scrap</th>
																												<th>Crusted</th>

																												<th>Residue</th>
																												<th>Total</th>
																											</tr>
																										</thead>
																										<tbody>
																											<tr>
																												<td>
																													<p
																														th:text="${product.finishedProductDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.unsatisfiedProduct}"></p>
																												</td>

																												<td>
																													<p th:text="${product.waterExtract}"></p>
																												</td>

																												<td>
																													<p th:text="${product.coconutSilk}"></p>
																												</td>

																												<td>
																													<p th:text="${product.lowPh}"></p>
																												</td>

																												<td>
																													<p th:text="${product.clotted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.xylon}"></p>
																												</td>

																												<td>
																													<p th:text="${product.scrap}"></p>
																												</td>

																												<td>
																													<p th:text="${product.crusted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.residueDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.total}"></p>
																												</td>

																											</tr>

																										</tbody>
																									</table>
																								</div>

																								<!-- Modal footer -->
																								<div class="modal-footer">
																									<button type="button" class="btn btn-danger"
																										data-dismiss="modal">Close</button>
																								</div>

																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->


																				</div>
																			</div>
																			
																			<!-- check approved -->
																			
																			<div th:case="Approved">
																				<!-- status == approved -->
																				<div class="btn-group">
																					<button type="button"
																						class="btn btn-secondary dropdown-toggle"
																						data-toggle="dropdown" aria-haspopup="true"
																						aria-expanded="false">Action</button>
																					<div class="dropdown-menu dropdown-menu-right">
																						<a href="#" data-toggle="modal"
																							class="btn btn-outline-info btn-fw btn-md dropdown-item"
																							th:attr="data-target='#productDetailsModal'+${product.productId}">
																							<i class="icon-info"></i> Chi tiết
																						</a>
																					</div>
																					
																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='productDetailsModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog modal-lg" role="document">
																							<div class="modal-content">

																								<!-- Modal Header -->
																								<div class="modal-header">
																									<h4 class="modal-title">Modal Heading</h4>
																									<button type="button" class="close"
																										data-dismiss="modal">&times;</button>
																								</div>

																								<!-- Modal body -->
																								<div class="modal-body">
																									<table class="table table-striped">
																										<thead>
																											<tr>
																												<th>Finished product</th>
																												<th>Unsatisfied product</th>
																												<th>Water extract</th>

																												<th>Black point</th>
																												<th>Low pH</th>
																												<th>Clotted</th>

																												<th>Xylon</th>
																												<th>Scrap</th>
																												<th>Crusted</th>

																												<th>Residue</th>
																												<th>Total</th>
																											</tr>
																										</thead>
																										<tbody>
																											<tr>
																												<td>
																													<p
																														th:text="${product.finishedProductDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.unsatisfiedProduct}"></p>
																												</td>

																												<td>
																													<p th:text="${product.waterExtract}"></p>
																												</td>

																												<td>
																													<p th:text="${product.coconutSilk}"></p>
																												</td>

																												<td>
																													<p th:text="${product.lowPh}"></p>
																												</td>

																												<td>
																													<p th:text="${product.clotted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.xylon}"></p>
																												</td>

																												<td>
																													<p th:text="${product.scrap}"></p>
																												</td>

																												<td>
																													<p th:text="${product.crusted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.residueDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.total}"></p>
																												</td>

																											</tr>

																										</tbody>
																									</table>
																								</div>

																								<!-- Modal footer -->
																								<div class="modal-footer">
																									<button type="button" class="btn btn-danger"
																										data-dismiss="modal">Close</button>
																								</div>

																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->


																				</div>
																			</div>
																			
																			<!-- check rejected -->
																			
																			<div th:case="Rejected">
																				<!-- status == rejected -->
																				<div class="btn-group">
																					<button type="button"
																						class="btn btn-secondary dropdown-toggle"
																						data-toggle="dropdown" aria-haspopup="true"
																						aria-expanded="false">Action</button>
																					<div class="dropdown-menu dropdown-menu-right">
																						
																						<a
																							th:href="@{'/product/edit/' + ${product.productId}}"
																							class="btn btn-outline-info btn-fw btn-md edit-button dropdown-item"><i
																							class="icon-pencil"></i>Sửa</a>

																						<button type="button"
																							class="btn btn-outline-info btn-fw btn-md delete-button dropdown-item"
																							data-toggle="modal"
																							th:attr="data-target='#recordDeleteModal'+${product.productId}">
																							<i class="icon-trash"></i>Xóa
																						</button>
																						
																						<a href="#" data-toggle="modal"
																							class="btn btn-outline-info btn-fw btn-md dropdown-item"
																							th:attr="data-target='#productDetailsModal'+${product.productId}">
																							<i class="icon-info"></i>Chi tiết
																						</a>
																					</div>
																					
																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='recordDeleteModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog" role="document">
																							<div class="modal-content">
																								<div class="modal-header">
																									<h5 class="modal-title"
																										id="recordDeleteModalLabel">Delete Record</h5>
																									<button type="button" class="close"
																										data-dismiss="modal" aria-label="Close">
																										<span aria-hidden="true">&times;</span>
																									</button>
																								</div>
																								<div class="modal-body">Bạn có chắc chắn
																									xóa không ?</div>
																								<div class="modal-footer">
																									<button type="button" class="btn btn-secondary"
																										data-dismiss="modal">Không</button>


																									<a class="btn btn-primary"
																										th:href="@{/product/delete/{deleteId}(deleteId=${product.productId})}">Có</a>
																								</div>
																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->

																					<!-- Modal -->
																					<div class="modal fade"
																						th:attr="id='productDetailsModal'+${product.productId}"
																						tabindex="-1" role="dialog"
																						aria-labelledby="recordDeleteModalLabel"
																						aria-hidden="true">
																						<div class="modal-dialog modal-lg" role="document">
																							<div class="modal-content">

																								<!-- Modal Header -->
																								<div class="modal-header">
																									<h4 class="modal-title">Modal Heading</h4>
																									<button type="button" class="close"
																										data-dismiss="modal">&times;</button>
																								</div>

																								<!-- Modal body -->
																								<div class="modal-body">
																									<table class="table table-striped">
																										<thead>
																											<tr>
																												<th>Finished product</th>
																												<th>Unsatisfied product</th>
																												<th>Water extract</th>

																												<th>Black point</th>
																												<th>Low pH</th>
																												<th>Clotted</th>

																												<th>Xylon</th>
																												<th>Scrap</th>
																												<th>Crusted</th>

																												<th>Residue</th>
																												<th>Total</th>
																											</tr>
																										</thead>
																										<tbody>
																											<tr>
																												<td>
																													<p
																														th:text="${product.finishedProductDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.unsatisfiedProduct}"></p>
																												</td>

																												<td>
																													<p th:text="${product.waterExtract}"></p>
																												</td>

																												<td>
																													<p th:text="${product.coconutSilk}"></p>
																												</td>

																												<td>
																													<p th:text="${product.lowPh}"></p>
																												</td>

																												<td>
																													<p th:text="${product.clotted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.xylon}"></p>
																												</td>

																												<td>
																													<p th:text="${product.scrap}"></p>
																												</td>

																												<td>
																													<p th:text="${product.crusted}"></p>
																												</td>

																												<td>
																													<p th:text="${product.residueDetail}"></p>
																												</td>

																												<td>
																													<p th:text="${product.total}"></p>
																												</td>

																											</tr>

																										</tbody>
																									</table>
																								</div>

																								<!-- Modal footer -->
																								<div class="modal-footer">
																									<button type="button" class="btn btn-danger"
																										data-dismiss="modal">Close</button>
																								</div>

																							</div>
																						</div>
																					</div>
																					<!-- Modal end -->
																					
																					


																				</div>
																			</div>

																		</div>
																	</div>
																</th:block></td>
														</tr>
												</tbody>
											</table>
										</div>
										<!-- End view list-->

										<!-- Start paging -->
										<div class="row mt-3">
											<div class="col-8"></div>
											<div class="col-4">



												<ul class="pagination rounded float-right"
													th:unless="${listProducts == null || listProducts.isEmpty()}">
													<th:block th:if="${listProducts.hasPrevious()}">
														<li class="page-item"><a class="page-link"
															th:href="@{/product/all(page=${currentPage - 1}, keyword=${keyword})}">
																<i class="icon-arrow-left"></i>
														</a></li>
													</th:block>
													<th:block th:unless="${listProducts.hasPrevious()}">
														<li class="page-item disabled"><a
															class="page-link disabled" href="#"> <i
																class="icon-arrow-left"></i>
														</a></li>
													</th:block>
													<th:block
														th:each="i: ${#numbers.sequence(0, totalPages - 1)}">
														<li class="page-item"><a class="page-link"
															th:href="@{/product/all(page=${i}, keyword=${keyword})}"
															th:text="${i + 1}"></a></li>
													</th:block>
													<th:block th:if="${listProducts.hasNext()}">
														<li class="page-item"><a class="page-link"
															th:href="@{/product/all(page=${currentPage + 1}, keyword=${keyword})}">
																<i class="icon-arrow-right"></i>
														</a></li>
													</th:block>
													<th:block th:unless="${listProducts.hasNext()}">
														<li class="page-item disabled"><a
															class="page-link disabled" href="#"> <i
																class="icon-arrow-right"></i>
														</a></li>
													</th:block>
												</ul>
											</div>
										</div>
										<!-- End paging -->
									</div>
								</div>
							</div>
						</div>
					</div>

					<div style="display: none;">
						<span id="pageSizeHidden" th:text="${pageSize}"></span> <span
							id="pageNumberHidden" th:text="${pageNumber}"></span> <span
							id="pageTotalHidden" th:text="${pageTotal}"></span> <span
							id="keywordHidden" th:text="${keyword}"></span>
					</div>

					<div style="display: none;">
						<form id="inforForm" method="POST" th:action="@{/product/all}"></form>
					</div>
				</div>
			</div>
	</div>
	<!-- partial:layouts/footer.html -->
	<th:block id="footer" th:replace="layouts/footer">
	</th:block>

	<!-- Custom JavaScript for this page in here -->
	<th:block id="custom-js">
		<script th:inline="javascript">

			/*<![CDATA[*/

				let state = /*[[${state}]]*/
				let keyword = /*[[${keyword}]]*/
				
				$('#keyword').val(keyword);
				
			/*]]>*/		
			
			$(document).ready(() => {
				
				
				if(state != null){
					switch(state){
						case 'CREATE_SUCCESS': {
							showToastDialog("CREATE SUCCESS", "Create pressing monitor success", "success");
							break;
						}
						
						case 'CREATE_FAILED':{
							showToastDialog("CREATE FAILED", "Create pressing monitor failed", "error");
							break;
						}
						
						case 'UPDATE_SUCCESS': {
							showToastDialog("UPDATE SUCCESS", "Update pressing mornitor success", "success");
							break;
						}
						
						case 'UPDATE_FAILED': {
							showToastDialog("UPDATE FAILED", "Update pressing monitor failed", "error");
							break;
						}
						
						case 'DELETE_SUCCESS': {
							showToastDialog("DELETE SUCCESS", "Delete pressing mornitor success", "success");
							break;
						}
						
						case 'DELETE_FAILED': {
							showToastDialog("DELETE FAILED", "Delete pressing monitor failed", "error");
							break;
						}
						
						case 'UPDATE_DEFAULT_VALUE_SUCCESS': {
							showToastDialog("CONFIG SUCCESS", "Set default value pressing mornitor success", "success");
							break;
						}
						
						case 'UPDATE_DEFAULT_VALUE_FAILED': {
							showToastDialog("CONFIG FAILED", "Set default value pressing monitor failed", "error");
							break;
						}
						
					}
				}
			})
			
			$(".judgement").click(function() {
                var id = $(this).attr("data");
                $(".dataId").attr("value", id);
                console.log(id);
            })
			
			$("#master-checkbox").change(function () {
				console.log("Master checkbox clicked...")
				if ($("#master-checkbox").is(":checked")) {
					$(".id-checkbox").prop("checked", true)
				} else {
					$(".id-checkbox").prop("checked", false)
				}
			})

			$(".option-selected").click(function () {

				let idList = [];
				$.each($("input[type='checkbox']:checked"), function () {
					let id = $(this).val();
					if (!isNaN(id)) {
						idList.push(id);
						console.log(id)
					}
				});
				$(".dataId").attr("value", idList);
				console.log(idList)
			})
		</script>
		<script>
		showToastDialog = function(heading, text, icon) {
		    'use strict';
		    $.toast({
		      heading: heading,
		      text: text,
		      showHideTransition: 'slide',
		      icon: icon,
		      loaderBg: '#57c7d4',
		      position: 'top-right'
		    })
		  };
		</script>

	</th:block>
	<!-- End Custom JavaScript  -->

</body>

</html>